# 対話型・自動通知機能付き 天気予報LINEボット

## 概要

プログラミング学習中に英語の技術文書を読む際、毎回ブラウザで辞書を開く手間から着想を得て、「作業を中断させない」をテーマに開発したLINEボットです。当初はシンプルなツールとして構想しましたが、複数のAPI連携、データベース設計、クラウドへのデプロイといった技術を学習・実践する中で、より高機能で実用的な「個人向け天気予報アシスタント」へと発展させました。

## 主な機能

* **対話型 天気予報**: ユーザーがLINEで地名を送信すると、その場所の当日の天気予報（天気概況、最高・最低気温、降水確率）をFlex Messageで見やすく返信します。
* **パーソナライズされた自動通知**: ユーザーは通知を受け取りたい「マイ地点」を一つ登録できます。登録すると、毎日深夜0時にその地点の天気予報が自動でLINEにプッシュ通知されます。
* **簡単な地点変更**: トーク画面下部に常設されたリッチメニューの「地点を変更する」ボタンから、いつでも直感的に通知先を変更できます。
* **状態管理**: ユーザーが地点登録中か、通常の問い合わせ中かをボットが判断し、文脈に合わせた自然な応答を行います。

## システム構成図

```
[ ユーザー on LINE ] <---- (対話) ----> [ LINE Platform ] <---- (Webhook) ----> [ Render Web Service (app.py) ]
       ^                                                                                   |
       | (プッシュ通知)                                                                    | (DB Read/Write)
       |                                                                                   V
[ Render Cron Job (daily_notifier.py) ] ---- (DB Read) ----> [ Render PostgreSQL DB (ユーザー情報) ]
       |
       | (天気予報を問い合わせ)
       V
[ OpenWeatherMap API ]
```

## 使用技術

* **言語**: Python 3.11
* **フレームワーク**: Flask, Gunicorn
* **データベース**: PostgreSQL
* **主要ライブラリ**: `line-bot-sdk-python`, `requests`, `SQLAlchemy`, `psycopg2-binary`, `python-dotenv`
* **外部API**: LINE Messaging API, OpenWeatherMap API (Geocoding & 5 day/3 hour Forecast)
* **インフラ**: Render.com (Web Service & Cron Job), Git/GitHub

## このプロジェクトでアピールできること

このアプリケーションの開発経験を通じて、以下のスキルを実践的に証明できます。

1.  **Webアプリケーション全体の設計・実装能力**
    * Flaskを用いたWebサーバーの構築、PostgreSQLデータベースの設計と連携、LINEやOpenWeatherMapなど複数の外部APIを組み合わせた、実践的なWebアプリケーション全体の設計と実装を行いました。

2.  **クラウドへのデプロイと運用経験**
    * `gunicorn`や`requirements.txt`を用いてローカルで開発したアプリケーションを本番環境用に準備し、クラウドプラットフォーム（Render）へデプロイしました。Web ServiceとCron Jobという2つの異なるサービスを連携させ、環境変数による機密情報管理も行い、24時間稼働するサービスを構築しました。

3.  **粘り強いデバッグと問題解決能力**
    * 開発中に、ローカル環境（Windows）とクラウド環境（Linux）の差異に起因する、非常に複雑なライブラリの依存関係・バージョン問題を経験しました。その際、エラーログを精読し、原因の切り分け（APIの直接テスト、環境の再現、ライブラリの内部調査など）を体系的に行うことで根本原因を特定。代替案を自ら調査・実装し、最終的に問題を解決に導きました。これにより、計画通りに進まない状況でも、目的を達成するための最適な解決策を見つけ出す能力が身につきました。